{"version":3,"file":"static/js/FullPizza.ddfda419.chunk.js","mappings":"0PAQMA,EAAY,CAAC,uCAAU,4EA2H7B,UAzH4B,WAExB,MAA0BC,EAAAA,WAA1B,eAAOC,EAAP,KAAcC,EAAd,KAQQC,GAAQC,EAAAA,EAAAA,MAARD,GACFE,GAAWC,EAAAA,EAAAA,MAEXC,GAAWC,EAAAA,EAAAA,KAAYC,EAAAA,EAAAA,IAAeN,GAAM,MAElD,EAAoCH,EAAAA,SAAe,GAAnD,eAAOU,EAAP,KAAmBC,EAAnB,KACA,EAAoCX,EAAAA,SAAe,GAAnD,eAAOY,EAAP,KAAmBC,EAAnB,KA6BA,IAZAC,EAAAA,EAAAA,YAAU,WACN,IAAMC,EAAU,yCAAG,oHAEYC,IAAAA,IAAA,6DAAgEb,IAF5E,gBAEHc,EAFG,EAEHA,KACRf,EAASe,GAHE,gDAKXC,MAAM,yMALK,yDAAH,qDAQhBH,MACD,KAEEd,EACD,OAAO,iFAGX,IAAQkB,EAAwClB,EAAxCkB,SAAUC,EAA8BnB,EAA9BmB,KAAMC,EAAwBpB,EAAxBoB,MAAOC,EAAiBrB,EAAjBqB,MAAOC,EAAUtB,EAAVsB,MACtC,OACI,iBAAKC,UAAU,YAAf,WACI,iBAAKA,UAAU,kBAAf,WACI,gBACIA,UAAU,qBACVC,IAAKN,EACLO,IAAKN,KAGT,iBAAKI,UAAU,wBAAf,WACI,wBACKH,EAAMM,KAAI,SAACC,EAAMC,GAAP,OACP,eAEIC,QAAS,kBAAMnB,EAAciB,IAC7BJ,UAAWd,IAAekB,EAAO,SAAW,GAHhD,SAIK7B,EAAU6B,IAHNC,SAOjB,wBACKP,EAAMK,KAAI,SAACI,EAAMC,GAAP,OACP,gBAEIF,QAAS,kBAAMjB,EAAcmB,IAC7BR,UAAWZ,IAAeoB,EAAQ,SAAW,GAHjD,UAIKD,EAJL,mBACSC,YAQrB,iBAAKR,UAAU,sBAAf,WACI,iBAAKA,UAAU,qBAAf,0BAAwCD,EAAxC,cACA,iBACIO,QAjEK,WACrB,IAAMG,EAAO,CACX9B,GAAIA,GAAM,IACViB,KAAAA,EACAD,SAAAA,EACAI,MAAAA,EACAK,KAAM7B,EAAUW,GAChBqB,KAAMT,EAAMV,GACZsB,MAAO,GAET7B,GAAS8B,EAAAA,EAAAA,IAAQF,KAwDDT,UAAU,qCAFd,WAGI,gBACIY,MAAM,KACNC,OAAO,KACPC,QAAQ,YACRC,KAAK,OACLC,MAAM,6BALV,UAOI,iBACIC,EAAE,2QACFF,KAAK,aAGb,+EACChC,IAAY,uBAAIA,EAAS2B,kBAOtC,iBAAKV,UAAU,mBAAf,WACQ,eAAIA,UAAU,qBAAd,SAAoCJ,KACpC,cAAGI,UAAU,kBAAb,2PAKA,SAAC,KAAD,CAAMkB,GAAG,IAAIlB,UAAU,uBAAvB,UACI","sources":["pages/FullPizza.tsx"],"sourcesContent":["import axios from 'axios'\r\nimport React, { useEffect } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { Link, useParams } from 'react-router-dom'\r\nimport { addItem, selectItemById } from '../redux/slices/cartSlice'\r\n\r\n\r\n\r\nconst typeNames = ['тонкое', 'традиционное']\r\n\r\nconst FullPizza: React.FC = () => {\r\n\r\n    const [pizza, setPizza] = React.useState<{\r\n        id: string\r\n        imageUrl: string;\r\n        name: string;\r\n        price: number;\r\n        types: number[];\r\n        sizes: number[];\r\n    }>()\r\n    const { id }  = useParams()\r\n    const dispatch = useDispatch()\r\n\r\n    const cartItem = useSelector(selectItemById(id || '0'))\r\n\r\n    const [activeType, setActiveType] = React.useState(0)\r\n    const [activeSize, setActiveSize] = React.useState(0)\r\n\r\n\r\n    const onClickAddToCard = () => {\r\n        const item = {\r\n          id: id || '0',\r\n          name,\r\n          imageUrl,\r\n          price,\r\n          type: typeNames[activeType],\r\n          size: sizes[activeSize],\r\n          count: 0\r\n        };\r\n        dispatch(addItem(item))\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        const fetchPizza = async () => {\r\n            try {\r\n                const { data } = await axios.get(`https://628e5bff368687f3e715b43f.mockapi.io/pizzas/${id}`)\r\n                setPizza(data)\r\n            } catch (error) {\r\n                alert('Произошла ошибка при получении пиццы!')\r\n            }\r\n        }\r\n        fetchPizza()\r\n    }, [])\r\n\r\n    if (!pizza) {\r\n        return <p>'Загрузка...'</p>\r\n    }\r\n\r\n    const { imageUrl, name, types, sizes, price } = pizza\r\n    return (\r\n        <div className=\"fullpizza\">\r\n            <div className=\"fullpizza__left\">\r\n                <img\r\n                    className=\"pizza-block__image\"\r\n                    src={imageUrl}\r\n                    alt={name}\r\n                />\r\n\r\n                <div className=\"pizza-block__selector\">\r\n                    <ul>\r\n                        {types.map((type, i) => (\r\n                            <li\r\n                                key={i}\r\n                                onClick={() => setActiveType(type)}\r\n                                className={activeType === type ? 'active' : ''}>\r\n                                {typeNames[type]}\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                    <ul>\r\n                        {sizes.map((size, index) => (\r\n                            <li\r\n                                key={index}\r\n                                onClick={() => setActiveSize(index)}\r\n                                className={activeSize === index ? 'active' : ''}>\r\n                                {size} см.\r\n                            </li>\r\n                        ))}\r\n                    </ul>\r\n                </div>\r\n                <div className=\"pizza-block__bottom\">\r\n                    <div className=\"pizza-block__price\">от {price} ₽</div>\r\n                    <div\r\n                        onClick={onClickAddToCard}\r\n                        className=\"button button--outline button--add\">\r\n                        <svg\r\n                            width=\"12\"\r\n                            height=\"12\"\r\n                            viewBox=\"0 0 12 12\"\r\n                            fill=\"none\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                            <path\r\n                                d=\"M10.8 4.8H7.2V1.2C7.2 0.5373 6.6627 0 6 0C5.3373 0 4.8 0.5373 4.8 1.2V4.8H1.2C0.5373 4.8 0 5.3373 0 6C0 6.6627 0.5373 7.2 1.2 7.2H4.8V10.8C4.8 11.4627 5.3373 12 6 12C6.6627 12 7.2 11.4627 7.2 10.8V7.2H10.8C11.4627 7.2 12 6.6627 12 6C12 5.3373 11.4627 4.8 10.8 4.8Z\"\r\n                                fill=\"white\"\r\n                            />\r\n                        </svg>\r\n                        <span>Добавить</span>\r\n                        {cartItem && <i>{cartItem.count}</i>}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n\r\n            <div className=\"fullpizza__right\">\r\n                    <h4 className=\"pizza-block__title\">{name}</h4>\r\n                    <p className=\"fullpizza__text\">\r\n                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae, dignissimos.\r\n                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae, dignissimos.\r\n                        Lorem ipsum dolor sit amet, consectetur adipisicing elit. Beatae, dignissimos.\r\n                    </p>\r\n                    <Link to=\"/\" className=\"button button--black\">\r\n                        <span>Вернуться назад</span>\r\n                    </Link>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FullPizza"],"names":["typeNames","React","pizza","setPizza","id","useParams","dispatch","useDispatch","cartItem","useSelector","selectItemById","activeType","setActiveType","activeSize","setActiveSize","useEffect","fetchPizza","axios","data","alert","imageUrl","name","types","sizes","price","className","src","alt","map","type","i","onClick","size","index","item","count","addItem","width","height","viewBox","fill","xmlns","d","to"],"sourceRoot":""}